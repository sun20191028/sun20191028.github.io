<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
	<!-- title -->
	
	<title>
	
		redis基础操作 | 
	 
	Hexo
	</title>
	
	<!-- keywords,description -->
	 

	<!-- favicon -->
	
	<link rel="shortcut icon" href="/favicon.ico">
	


	<!-- search -->
	<script>
		var searchEngine = "https://www.google.com/search?q=";
		if(typeof searchEngine == "undefined" || searchEngine == null || searchEngine == ""){
			searchEngine = "https://www.google.com/search?q=";
		}
		var homeHost = "wujun234.github.io";
		if(typeof homeHost == "undefined" || homeHost == null || homeHost == ""){
			homeHost = window.location.host;
		}
	</script>


	
<link rel="stylesheet" href="/css/main.css">

	
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/darcula.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">


	
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>

	
<script src="/js/main.js"></script>

	
		
<script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>

		
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>

	
	
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
	<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?3efe99c287df5a1d6f0d02d187e403c1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<header id="header">
    <a id="title" href="/" class="logo">Hexo</a>

	<ul id="menu">
		<li class="menu-item">
			<a href="/about" class="menu-item-link">ABOUT</a>
		</li>
	

	

		<li class="menu-item">
			<a href="https://github.com/wujun234/uid-generator-spring-boot-starter" class="menu-item-link" target="_blank">
				UidGenerator
			</a>
		</li>
		<li class="menu-item">
			<a href="https://github.com/wujun234" class="menu-item-link" target="_blank">
				<i class="fa fa-github fa-2x"></i>
			</a>
		</li>
	</ul>
</header>

	
<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="search" placeholder="按回车全站搜索">
		<div id="tree">
			

			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										db
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										mongodb
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/db/mongodb/%E8%84%9A%E6%9C%AC/">
										脚本
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										mysql
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/db/mysql/sql/">
										sql
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/db/mysql/%E8%BF%90%E7%BB%B4%E6%93%8D%E4%BD%9C/">
										运维操作
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										redis
									</a>
									
							<ul>
								<li class="file">
									<a href="/2019/11/21/db/redis/redis%20%E9%94%81%E3%80%81%E4%B8%80%E8%87%B4%E6%80%A7%E7%AE%97%E6%B3%95%E3%80%81%E6%A7%BD/">
										redis 锁、一致性算法、槽
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/2021/03/05/db/redis/redis%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C/">
										redis基础操作
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/db/redis/%E5%BB%B6%E6%97%B6%E9%98%9F%E5%88%97/">
										延时队列
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										java基础
									</a>
									
							<ul>
								<li class="file">
									<a href="/2019/11/21/java%E5%9F%BA%E7%A1%80/jdk/">
										jdk
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/java%E5%9F%BA%E7%A1%80/jkd8/">
										jkd8
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/java%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E9%9B%86%E4%B8%8E%E7%BC%96%E7%A0%81/">
										字符集与编码
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/java%E5%9F%BA%E7%A1%80/%E5%BC%82%E5%B8%B8/">
										异常
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/java%E5%9F%BA%E7%A1%80/%E9%94%81/">
										锁
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										jvm
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/jvm/JVM%20%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80/">
										JVM 内存布局
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/jvm/class%20%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/">
										class 文件结构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/jvm/jvm-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/">
										jvm-垃圾回收
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/jvm/jvm-%E5%B8%B8%E9%87%8F%E6%B1%A0/">
										jvm-常量池
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/jvm/jvm%E7%B1%BB%E5%8A%A0%E8%BD%BD/">
										jvm类加载
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/jvm/linux%20%E5%AD%A6%E4%B9%A0/">
										linux 学习
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/jvm/%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/">
										内存模型
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/jvm/%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA/">
										内存溢出
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/jvm/%E6%80%BB%E7%BB%93/">
										总结
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/jvm/%E6%8C%87%E4%BB%A4/">
										指令
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/jvm/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7/">
										虚拟机性能监控工具
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/todolist/">
										todolist
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/todolist2/">
										todolist2
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										大数据
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										hadoop
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E5%A4%A7%E6%95%B0%E6%8D%AE/hadoop/hadoop%E5%AE%89%E8%A3%85/">
										hadoop安装
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										hbase
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E5%A4%A7%E6%95%B0%E6%8D%AE/hbase/hbase%E5%AE%89%E8%A3%85/">
										hbase安装
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										工具
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										docker
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E5%B7%A5%E5%85%B7/docker/docker%E5%9F%BA%E7%A1%80/">
										docker基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										idea
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E5%B7%A5%E5%85%B7/idea/idea%E9%A1%B9%E7%9B%AE%E7%AE%80%E4%BB%8B/">
										idea项目简介
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E5%B7%A5%E5%85%B7/idea/java%E5%90%AF%E5%8A%A8/">
										java启动
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										linux
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E5%B7%A5%E5%85%B7/linux/%E8%84%9A%E6%9C%AC%E5%AD%A6%E4%B9%A0/">
										脚本学习
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										maven
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E5%B7%A5%E5%85%B7/maven/maven%E5%9F%BA%E7%A1%80/">
										maven基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E5%B7%A5%E5%85%B7/maven/maven%E9%AB%98%E7%BA%A7/">
										maven高级
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/">
										常用操作
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C/">
										开发手册
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										框架
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										mybatis
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%A1%86%E6%9E%B6/mybatis/mybatis%E6%BA%90%E7%A0%81/">
										mybatis源码
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										spring
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										spring cloud
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%A1%86%E6%9E%B6/spring/spring%20cloud/spring%20cloud%20alibaba/">
										spring cloud alibaba
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%A1%86%E6%9E%B6/spring/spring%20cloud/spring%20cloud%E5%9F%BA%E7%A1%80/">
										spring cloud基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%A1%86%E6%9E%B6/spring/spring%20cloud/%E7%AC%94%E8%AE%B0/">
										笔记
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										spring core
									</a>
									
							<ul>
								<li class="file">
									<a href="/2019/11/21/%E6%A1%86%E6%9E%B6/spring/spring%20core/spring%20mvc%20%E5%9F%BA%E7%A1%80/">
										spring mvc 基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2019/11/21/%E6%A1%86%E6%9E%B6/spring/spring%20core/%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3/">
										常用注解
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										spring mvc
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%A1%86%E6%9E%B6/spring/spring%20mvc/spring%20mvc%E6%BA%90%E7%A0%81%E4%B8%80/">
										spring mvc源码一
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%A1%86%E6%9E%B6/spring/spring%20mvc/spring%20mvc%E6%BA%90%E7%A0%81%E4%BA%8C/">
										spring mvc源码二
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										tomcat
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%A1%86%E6%9E%B6/tomcat/servlet-filter-listener/">
										servlet-filter-listener
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%A1%86%E6%9E%B6/tomcat/session-cookies/">
										session-cookies
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										登录认证
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%A1%86%E6%9E%B6/%E7%99%BB%E5%BD%95%E8%AE%A4%E8%AF%81/JWT/">
										JWT
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%A1%86%E6%9E%B6/%E7%99%BB%E5%BD%95%E8%AE%A4%E8%AF%81/oauth2/">
										oauth2
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%A1%86%E6%9E%B6/%E7%99%BB%E5%BD%95%E8%AE%A4%E8%AF%81/spring%20security/">
										spring security
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										消息队列
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										kafka
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/03/05/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/kafka/kafka%E5%9F%BA%E7%A1%80/">
										kafka基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content">
		<h1 id="article-title">

	redis基础操作
</h1>
<div class="article-meta">
	
	<span>John Doe</span>
	<span>2021-03-05 15:07:55</span>
		<div id="article-categories">
    
		<span>Categories：</span>
            
    

    
		<span>Tags：</span>
            
    
		</div>

</div>

<div id="article-content">
	<p><a target="_blank" rel="noopener" href="http://doc.redisfans.com/index.html">Redis 命令参考</a><br><a target="_blank" rel="noopener" href="https://tool.oschina.net/uploads/apidocs/redis/clients/jedis/Jedis.html">jedis api</a><br><a target="_blank" rel="noopener" href="http://www.redis.cn/documentation.html">redis文档</a></p>
<p>=====================================================================================================================</p>
<h1 id="启动-连接-redis配置信息"><a href="#启动-连接-redis配置信息" class="headerlink" title="启动 | 连接 | redis配置信息"></a>启动 | 连接 | redis配置信息</h1><h2 id="启动服务端"><a href="#启动服务端" class="headerlink" title="启动服务端"></a>启动服务端</h2><ol>
<li> cmd 到redis-server的目录下—-一定要cd到这个目录下面，shift+右键 不可以（我的电脑会出现权限问题）。</li>
<li>执行redis-server.exe redis.windows.conf  –使用conf配置启动<br> redis-server.exe —–未加载conf的启动</li>
</ol>
<h2 id="启动客户端"><a href="#启动客户端" class="headerlink" title="启动客户端"></a>启动客户端</h2><ol start="3">
<li>redis-cli.exe </li>
<li>redis-cli.exe -h host -p port -a password  – 连接 host<h2 id="设置密码-修改密码"><a href="#设置密码-修改密码" class="headerlink" title="设置密码/修改密码"></a>设置密码/修改密码</h2></li>
</ol>
<ul>
<li>查询密码(为空，表示不需要密码）<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">172.16.24.2:6379&gt; CONFIG get requirepass</span><br><span class="line">1) &quot;requirepass&quot;</span><br><span class="line">2) &quot;&quot;</span><br></pre></td></tr></table></figure></li>
<li>设置密码<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; config set requirepass abc</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure></li>
<li>授权<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; auth abc</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>登录的时候，也可以不用密码，进来之后，再授权</strong></p>
<h2 id="redis-性能测试"><a href="#redis-性能测试" class="headerlink" title="redis 性能测试"></a>redis 性能测试</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">C:\Java\Redis-x64-3.2.100&gt;redis-benchmark -n 10000  -q</span><br><span class="line">PING_INLINE: 12165.45 requests per second</span><br><span class="line">PING_BULK: 12121.21 requests per second</span><br><span class="line">SET: 12135.92 requests per second</span><br><span class="line">GET: 12121.21 requests per second</span><br><span class="line">INCR: 12091.90 requests per second</span><br><span class="line">LPUSH: 12091.90 requests per second</span><br><span class="line">RPUSH: 12121.21 requests per second</span><br><span class="line">LPOP: 12106.54 requests per second</span><br><span class="line">RPOP: 12106.54 requests per second</span><br><span class="line">SADD: 12121.21 requests per second</span><br><span class="line">SPOP: 12150.67 requests per second</span><br><span class="line">LPUSH (needed to benchmark LRANGE): 12106.54 requests per second</span><br><span class="line">LRANGE_100 (first 100 elements): 12135.92 requests per second</span><br><span class="line">LRANGE_300 (first 300 elements): 12150.67 requests per second</span><br><span class="line">LRANGE_500 (first 450 elements): 12135.92 requests per second</span><br><span class="line">LRANGE_600 (first 600 elements): 12135.92 requests per second</span><br><span class="line">MSET (10 keys): 12135.92 requests per second</span><br></pre></td></tr></table></figure>
<h2 id="最大连接数"><a href="#最大连接数" class="headerlink" title="最大连接数"></a>最大连接数</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">config get maxclients</span><br><span class="line"></span><br><span class="line">1) &quot;maxclients&quot;</span><br><span class="line">2) &quot;10000&quot;</span><br></pre></td></tr></table></figure>

<h2 id="redis-数据库基础"><a href="#redis-数据库基础" class="headerlink" title="redis 数据库基础"></a>redis 数据库基础</h2><p><strong>config get * 查看所有配置文件</strong><br><strong>config get databases</strong> 查看有几个数据库，默认16个，不选择默认使用 0号数据库<br><strong>select 1</strong> 使用1号数据库</p>
<h2 id="获取redis-连接的所有客户端"><a href="#获取redis-连接的所有客户端" class="headerlink" title="获取redis 连接的所有客户端"></a>获取redis 连接的所有客户端</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CLIENT LIST</span><br></pre></td></tr></table></figure>
<h2 id="获取-redis-目录"><a href="#获取-redis-目录" class="headerlink" title="获取 redis 目录"></a>获取 redis 目录</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; config get dir</span><br><span class="line">1) &quot;dir&quot;</span><br><span class="line">2) &quot;C:\\Java\\Redis-x64-3.2.100&quot;</span><br></pre></td></tr></table></figure>
<h2 id="备份和数据恢复"><a href="#备份和数据恢复" class="headerlink" title="备份和数据恢复"></a>备份和数据恢复</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; save</span><br><span class="line">OK</span><br></pre></td></tr></table></figure>
<blockquote>
<p>该命令将在 redis 安装目录中创建<strong>dump.rdb</strong>文件。<br>如果需要恢复数据，只需将<strong>备份文件 (dump.rdb) 移动到 redis 安装目录</strong>并<strong>重启服务</strong>即可</p>
</blockquote>
<h1 id="Jedis-api"><a href="#Jedis-api" class="headerlink" title="Jedis api"></a>Jedis api</h1><h2 id="key"><a href="#key" class="headerlink" title="key"></a>key</h2><table>
<thead>
<tr>
<th>命令</th>
<th>方法</th>
<th>描述</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td>Setex</td>
<td>String setex(String key, int seconds, String value)</td>
<td>指定的 key 设置值及其过期时间。如果 key 已经存在， SETEX 命令将会替换旧的值。</td>
<td>设置成功时返回 OK</td>
</tr>
<tr>
<td>TTL</td>
<td>Long ttl(String key)</td>
<td>以秒为单位返回 key 的剩余过期时间。</td>
<td>当 key 不存在时，返回 -2 。 当 key 存在但没有设置剩余生存时间时，返回 -1 。 否则，以秒为单位，返回 key 的剩余生存时间</td>
</tr>
<tr>
<td>Setnx（SET if Not eXists）</td>
<td>Long setnx(String key, String value)</td>
<td>命令在指定的 key 不存在时，为 key 设置指定的值。</td>
<td>设置成功，返回 1 。 设置失败，返回 0</td>
</tr>
</tbody></table>
<h2 id="script"><a href="#script" class="headerlink" title="script"></a>script</h2><p>eval : 直接传输  script脚本执行<br>evalsha：根据 缓存（load） script 给定的 sha1 校验码，找到 script ，然后执行，高并发下，redis的宽带是非常珍贵的，对于相同的script 脚本，频繁的传输将占用大量的宽带，影响性能<br>根据给定的 sha1 校验码，对缓存在服务器中的脚本进行求值。<br>将脚本缓存到服务器的操作可以通过 SCRIPT LOAD 命令进行。<br>这个命令的其他地方，比如参数的传入方式，都和 EVAL 命令一样。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Object lockResult = jedis.eval(LUA_SCRIPT_LOCK, Collections.singletonList(lockKey), ages);</span></span><br><span class="line"><span class="keyword">if</span> (StrUtil.isBlank(script_lock_sha))&#123;</span><br><span class="line">	script_lock_sha = jedis.scriptLoad(LUA_SCRIPT_LOCK);</span><br><span class="line">&#125;</span><br><span class="line">   System.out.println(jedis.scriptExists(script_lock_sha));</span><br><span class="line">   Object lockResult = jedis.evalsha(script_lock_sha, Collections.singletonList(lockKey), ages);</span><br></pre></td></tr></table></figure>

<h1 id="shell脚本"><a href="#shell脚本" class="headerlink" title="shell脚本"></a>shell脚本</h1><h2 id="key-操作"><a href="#key-操作" class="headerlink" title="key 操作"></a>key 操作</h2><table>
<thead>
<tr>
<th>脚本</th>
<th>解释</th>
<th>jedis</th>
</tr>
</thead>
<tbody><tr>
<td>keys pattern</td>
<td><strong>KEYS aa</strong>*  查询已aa开头，KEYS * 查看所有的key</td>
<td>Set<String> keys(final String pattern)</td>
</tr>
<tr>
<td>del key</td>
<td>删除key</td>
<td></td>
</tr>
<tr>
<td>flushall</td>
<td>清空所有数据库中的数据</td>
<td>String flushAll()</td>
</tr>
<tr>
<td>flushdb</td>
<td>清空当前数据库中的数据</td>
<td>String flushDB()</td>
</tr>
<tr>
<td>exists key</td>
<td>返回1 存在，0 不存在</td>
<td>Boolean exists(final String key)</td>
</tr>
<tr>
<td>expire key seconds</td>
<td>给key设置过期时间，秒</td>
<td>Long expire(final String key, final int seconds)</td>
</tr>
<tr>
<td>pexpire key milliseconds</td>
<td>给key设置过期时间，毫秒</td>
<td>Long pexpire(final String key, final long milliseconds)</td>
</tr>
<tr>
<td>ttl key</td>
<td>已秒为单位，返回key的过期时间，<strong>返回 -1 表示永久有效，-2 表示key 不存在</strong></td>
<td>Long ttl(final String key)</td>
</tr>
<tr>
<td>pttl key</td>
<td>已毫秒为单位，返回key的过期时间</td>
<td>Long pttl(final String key)</td>
</tr>
<tr>
<td>persist key</td>
<td>移除key的过期时间</td>
<td></td>
</tr>
<tr>
<td>move key db</td>
<td>将当前数据库的 key 移动到给定的数据库 db 当中，默认16个数据库</td>
<td></td>
</tr>
<tr>
<td>RANDOMKEY</td>
<td>从当前数据库中随机返回一个 key 。</td>
<td></td>
</tr>
<tr>
<td>RENAME key newkey</td>
<td>修改 key 的名称，成功时返回ok，失败时，返回错误</td>
<td></td>
</tr>
<tr>
<td>RENAMENX key newkey</td>
<td>修改 key 的名称，成功时返回1，key不存在是返回错误，newKey存在时返回0</td>
<td></td>
</tr>
<tr>
<td>TYPE key</td>
<td>返回key的存储类型</td>
<td>String type(final String key)</td>
</tr>
</tbody></table>
<h2 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h2><blockquote>
<h3 id="SET-key-value-EX-seconds-PX-milliseconds-NX-XX"><a href="#SET-key-value-EX-seconds-PX-milliseconds-NX-XX" class="headerlink" title="SET key value [EX seconds] [PX milliseconds] [NX|XX]"></a>SET key value [EX seconds] [PX milliseconds] [NX|XX]</h3><ul>
<li>EX seconds ： 将键的过期时间设置为 seconds 秒。 执行 SET key value - - EX seconds 的效果等同于执行 SETEX key seconds value 。</li>
<li>PX milliseconds ： 将键的过期时间设置为 milliseconds 毫秒。 执行 SET - - key value PX milliseconds 的效果等同于执行 PSETEX key milliseconds value 。</li>
<li>NX ： 只在键不存在时， 才对键进行设置操作。 执行 SET key value NX 的效果等同于执行 SETNX key value 。</li>
<li>XX ： 只在键已经存在时， 才对键进行设置操作。</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>操作脚本</th>
<th>解释</th>
<th>jedis</th>
</tr>
</thead>
<tbody><tr>
<td>SET key value</td>
<td>设置指定 key 的值</td>
<td>String set(final String key, String value)</td>
</tr>
<tr>
<td>SETEX key seconds value</td>
<td>将值 value 关联到 key ，并将 key 的生存时间设为 seconds (以秒为单位)。</td>
<td>String setex(final String key, final int seconds, final String value)</td>
</tr>
<tr>
<td>PSETEX key milliseconds value</td>
<td>以毫秒为单位设置 key 的生存时间</td>
<td></td>
</tr>
<tr>
<td>SETNX key value</td>
<td>只有在 key 不存在时设置 key 的值。成功时返回1，失败时返回0</td>
<td>Long setnx(final String key, final String value)</td>
</tr>
<tr>
<td>GET key</td>
<td>获取指定 key 的值。</td>
<td></td>
</tr>
<tr>
<td>incr key</td>
<td>将 key 中储存的数字值增一。value 必须是Integer</td>
<td></td>
</tr>
<tr>
<td>incrby key increment</td>
<td>将 key 所储存的值加上给定的增量值（increment）</td>
<td></td>
</tr>
<tr>
<td>incrbyfloat key increment</td>
<td>将 key 所储存的值加上给定的浮点增量值（increment）</td>
<td></td>
</tr>
<tr>
<td>DECR key</td>
<td>将 key 中储存的数字值减一。</td>
<td></td>
</tr>
<tr>
<td>DECRBY key decrement</td>
<td>key 所储存的值减去给定的减量值（decrement）</td>
<td></td>
</tr>
<tr>
<td>APPEND key value</td>
<td>如果 key 已经存在并且是一个字符串， APPEND 命令将指定的 value 追加到该 key 原来值（value）的末尾。</td>
<td></td>
</tr>
</tbody></table>
<h2 id="哈希-Hash"><a href="#哈希-Hash" class="headerlink" title="哈希[Hash]"></a>哈希[Hash]</h2><blockquote>
<p>Redis hash 是一个 <strong>string 类型的 field</strong> 和 value 的<strong>映射表</strong>，hash 特别适合用于<strong>存储对象</strong>，field不能重复。</p>
</blockquote>
<table>
<thead>
<tr>
<th>操作脚本</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>HKEYS key</td>
<td>获取所有哈希表中的字段</td>
</tr>
<tr>
<td>HVALS key</td>
<td>获取哈希表中所有值</td>
</tr>
<tr>
<td>HSET key field value</td>
<td>将哈希表 key 中的字段 field 的值设为 value 。</td>
</tr>
<tr>
<td>HSETNX key field value</td>
<td>只有在字段 field 不存在时，设置哈希表字段的值。</td>
</tr>
<tr>
<td>HLEN key</td>
<td>获取哈希表中字段的数量</td>
</tr>
<tr>
<td>HGET key field</td>
<td>获取存储在哈希表中指定字段的值。</td>
</tr>
<tr>
<td>HEXISTS key field</td>
<td>查看哈希表 key 中，指定的字段是否存在。</td>
</tr>
<tr>
<td>HDEL key field1 [field2]</td>
<td>删除一个或多个哈希表字段， 返回的是删除 field的个数</td>
</tr>
</tbody></table>
<h2 id="列表-List"><a href="#列表-List" class="headerlink" title="列表[List]"></a>列表[List]</h2><blockquote>
<p>Redis列表是简单的<strong>字符串列表</strong>，按照<strong>插入顺序排序</strong>。你可以添加一个元素到列表的头部（左边）或者尾部（右边），跟<strong>队列</strong>差不多</p>
</blockquote>
<table>
<thead>
<tr>
<th>操作脚本</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>LPUSH key value1 [value2]</td>
<td>将一个或多个值<strong>插入</strong>到列表头部（<strong>从左插入</strong>）</td>
</tr>
<tr>
<td>LPUSHX key value</td>
<td>将一个值<strong>插入</strong>到已存在的列表头部，</td>
</tr>
<tr>
<td>RPUSH key value1 [value2]</td>
<td>将一个或多个值<strong>插入</strong>到列表尾部（<strong>从右插入</strong>）</td>
</tr>
<tr>
<td>RPUSHX key value</td>
<td>为已存在的列表<strong>添加</strong>值</td>
</tr>
<tr>
<td>LPOP key</td>
<td><strong>移出</strong>并获取列表的第一个元素</td>
</tr>
<tr>
<td>RPOP key</td>
<td><strong>移除</strong>列表的最后一个元素，返回值为移除的元素。</td>
</tr>
<tr>
<td>BLPOP key1 [key2 ] timeout</td>
<td><strong>移出</strong>并获取列表的第一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。单位为秒</td>
</tr>
<tr>
<td>BRPOP key1 [key2 ] timeout</td>
<td><strong>移出</strong>并获取列表的最后一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。</td>
</tr>
<tr>
<td>LSET key index value</td>
<td>通过索引<strong>设置</strong>列表元素的值</td>
</tr>
<tr>
<td>LLEN key</td>
<td><strong>获取</strong>列表长度</td>
</tr>
<tr>
<td>LRANGE key start stop</td>
<td><strong>获取列</strong>表指定范围内的元素 ，从0开始</td>
</tr>
</tbody></table>
<h2 id="集合-Set"><a href="#集合-Set" class="headerlink" title="集合 [Set]"></a>集合 [Set]</h2><blockquote>
<p>Redis 的 Set 是 <strong>String 类型的无序集合</strong>。集合成员是唯一的，这就意味着集合中<strong>不能出现重复的数据</strong>。<br>Redis 中集合是<strong>通过哈希表</strong>实现的，所以添加，删除，查找的<strong>复杂度</strong>都是 **O(1)**。<br>主要是做集合的 <strong>交集、并集</strong>操作</p>
</blockquote>
<table>
<thead>
<tr>
<th>操作脚本</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>SADD key member1 [member2]</td>
<td>向集合添加一个或多个成员</td>
</tr>
<tr>
<td>smembers set</td>
<td>返回集合中的所有成员</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="有序集合-sorted-set"><a href="#有序集合-sorted-set" class="headerlink" title="有序集合[sorted set]"></a>有序集合[sorted set]</h2><blockquote>
<p>Redis 有序集合和集合一样也是string类型元素的集合,且<strong>不允许重复</strong>的成员。<br>不同的是<strong>每个元素都会关联一个double类型的分数</strong>。redis正是<strong>通过分数</strong>来<strong>为集合中的成员进行从小到大</strong>的排序。<br>有序集合的成员是唯一的,但<strong>分数(score</strong>)却<strong>可以重复</strong>。<br>集合是通过哈希表实现的，所以添加，删除，**查找的复杂度都是O(1)**。 集合中最大的成员数为 2^32 - 1 (4294967295, 每个集合可存储40多亿个成员)。</p>
</blockquote>
<table>
<thead>
<tr>
<th>操作脚本</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>ZADD key score1 member1 [score2 member2]</td>
<td>向有序集合添加一个或多个成员，或者更新已存在成员的分数</td>
</tr>
<tr>
<td>ZRANGE key start stop [WITHSCORES]</td>
<td>按从小到大建立索引，通过索引区间返回有序集合指定区间内的成员<br />zrange hackers 0 -1   ，查询全量数据<br />zrange hackers 0 -1 withscores， 将数据和分数一起返回</td>
</tr>
<tr>
<td>zrevrange   hackers 0 -1</td>
<td>倒叙返回</td>
</tr>
<tr>
<td>zrangebyscore hackers -inf 1950</td>
<td>查询score 小于 1950的<br />zrangebyscore hackers minScore maxScore 查询 [minScore maxScore]范围内的数据</td>
</tr>
</tbody></table>
<h2 id="bitmaps"><a href="#bitmaps" class="headerlink" title="bitmaps"></a>bitmaps</h2><p>占用空间很小<br>用于记录0/1 之间的数据。<br>比如记录 员工1年的打卡情况 </p>
<h2 id="hyperloglogs"><a href="#hyperloglogs" class="headerlink" title="hyperloglogs"></a>hyperloglogs</h2><p>集合求集数</p>
<h2 id="geospatial"><a href="#geospatial" class="headerlink" title="geospatial"></a>geospatial</h2><p>求附近的人，地理位置直接的距离等功能</p>
<h1 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h1><blockquote>
<p><strong>redis 事务不具备原子性</strong><br>redis事务的本质：一组命令的集合！一个事务的所有命令都会被序列化，在事务的执行过程中，会按照顺序执行<br><strong>没有隔离级别的概念</strong><br>Redis单条命令是保证原子操作，但是事务不保证原子性<br>所有的命令在事务中，并没有直接被执行！只有发起执行命令的时候（exec）才会被执行</p>
</blockquote>
<h2 id="redis的事务"><a href="#redis的事务" class="headerlink" title="redis的事务"></a>redis的事务</h2><ul>
<li>开启事务（multi）</li>
<li>提交命令队列</li>
<li>执行事务（exec）<h3 id="开启事务"><a href="#开启事务" class="headerlink" title="开启事务"></a>开启事务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; set k1 v1</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; set k2 v2</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; setnx k3 v3</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; get k3</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; exec</span><br><span class="line">1) OK</span><br><span class="line">2) OK</span><br><span class="line">3) (integer) 1</span><br><span class="line">4) &quot;v3&quot;</span><br><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; set k4 v4</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; setnx k3 vn</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; exec</span><br><span class="line">1) OK</span><br><span class="line">2) (integer) 0</span><br><span class="line">127.0.0.1:6379&gt; keys *</span><br><span class="line">1) &quot;k2&quot;</span><br><span class="line">2) &quot;k1&quot;</span><br><span class="line">3) &quot;k4&quot;</span><br><span class="line">4) &quot;k3&quot;</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure>
<h3 id="取消事务"><a href="#取消事务" class="headerlink" title="取消事务"></a>取消事务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; set k5 v5</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; discard</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get k5</span><br><span class="line">(nil)</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure></li>
<li><input disabled="" type="checkbox"> 编译型异常（命令有错），事务中的所有命令多不会执行<br>就是命令入执行队列的时候，就报错<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1:6379&gt; multi</span><br><span class="line">OK</span><br><span class="line">127.0.0.1:6379&gt; get k4</span><br><span class="line">QUEUED</span><br><span class="line">127.0.0.1:6379&gt; getset 55</span><br><span class="line">(error) ERR wrong number of arguments for &#x27;getset&#x27; command</span><br><span class="line">127.0.0.1:6379&gt; exec</span><br><span class="line">(error) EXECABORT Transaction discarded because of previous errors.</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure></li>
<li><input disabled="" type="checkbox"> 运行时异常，只有错误的命令行执行失败，其他的都会成功<br>比如上面的 setnx 失败，并不会导致整个事务失败</li>
</ul>
<h1 id="锁"><a href="#锁" class="headerlink" title="锁"></a>锁</h1>
</div>


    <div class="post-guide">
        <div class="item left">
            
              <a href="/2021/03/05/db/redis/%E5%BB%B6%E6%97%B6%E9%98%9F%E5%88%97/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  延时队列
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/2021/03/05/db/mysql/%E8%BF%90%E7%BB%B4%E6%93%8D%E4%BD%9C/">
                运维操作
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>



	<div id="vcomments"></div>


<script>
	
		// 评论
		new Valine({
			av: AV,
			el: '#vcomments',
			notify: false,
			verify: false,
			path: window.location.pathname,
			appId: '',
			appKey: '',
			placeholder: '请输入评论',
			avatar: 'retro',
			recordIP: false
		})
	
	
</script>
	</div>
	<div id="footer">
	<p>
	©2019-<span id="footerYear"></span> 
	<a href="/">John Doe</a> 
	
	
		|
		<span id="busuanzi_container_site_pv">
			pv
			<span id="busuanzi_value_site_pv"></span>
		</span>
		|
		<span id="busuanzi_container_site_uv"> 
			uv
			<span id="busuanzi_value_site_uv"></span>
		</span>
	
	<br>
	Theme <a href="//github.com/wujun234/hexo-theme-tree" target="_blank">Tree</a>
	by <a href="//github.com/wujun234" target="_blank">WuJun</a>
	Powered by <a href="//hexo.io" target="_blank">Hexo</a>
	</p>
</div>
<script type="text/javascript"> 
	document.getElementById('footerYear').innerHTML = new Date().getFullYear() + '';
</script>
	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>